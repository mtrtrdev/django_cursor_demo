# 在庫管理システム

## プロジェクト概要

このプロジェクトは、Djangoフレームワークを用いて開発されたシンプルな在庫管理システムです。商品の在庫（商品名と数量）を登録、閲覧、編集、削除する基本的なCRUD（Create, Read, Update, Delete）機能を提供します。

## 機能一覧

*   **在庫アイテム一覧表示:** 登録されているすべての在庫アイテムを一覧で表示します。
*   **在庫アイテム詳細表示:** 特定の在庫アイテムの詳細情報を表示します。
*   **新規アイテム追加:** 新しい在庫アイテムを登録するためのフォームを提供します。入力データはバリデーションされます。
*   **アイテム編集:** 既存の在庫アイテムの情報を変更するためのフォームを提供します。入力データはバリデーションされます。
*   **アイテム削除:** 特定の在庫アイテムを削除するための確認画面を提供します。
*   **トップページ:** システムの概要と主要機能へのリンクを提供するランディングページです。

## 技術スタック

*   **バックエンド:** Python 3.11.x, Django 5.x
*   **データベース:** SQLite3 (開発用)
*   **フロントエンド:** HTML5, CSS3 (JavaScriptは最小限)

## 開発環境のセットアップ

以下の手順でローカル開発環境をセットアップし、アプリケーションを実行できます。

1.  **プロジェクトのクローン (初めての場合)**
    ```bash
    git clone <YOUR_REPOSITORY_URL>
    cd 20250705_django_demo
    ```
    (もし既にクローン済みであればこのステップはスキップしてください)

2.  **Python仮想環境の作成**
    プロジェクトのルートディレクトリで以下のコマンドを実行し、仮想環境を作成します。
    ```bash
    python -m venv .venv
    ```

3.  **仮想環境のアクティベート**
    Windows PowerShellの場合:
    ```bash
    .venv\Scripts\Activate.ps1
    ```
    プロンプトの先頭に `(.venv)` と表示されれば成功です。

4.  **Djangoのインストール**
    アクティブな仮想環境内でDjangoをインストールします。
    ```bash
    pip install Django
    ```

5.  **データベースマイグレーションの実行**
    データベースのスキーマ（構造）を構築します。
    ```bash
    python manage.py migrate
    ```

6.  **スーパーユーザーの作成 (管理者サイトアクセス用)**
    管理者サイトにログインするためにスーパーユーザーを作成します。指示に従ってユーザー名、メールアドレス、パスワードを設定してください。
    ```bash
    python manage.py createsuperuser
    ```

7.  **初期データの投入 (オプション)**
    テスト用の初期データをデータベースに投入します。
    ```bash
    python manage.py loaddata stock/initial_data.json
    ```

## アプリケーションの実行方法

上記のセットアップが完了したら、以下のコマンドで開発サーバーを起動できます。

```bash
python manage.py runserver
```

サーバーが起動したら、ブラウザで以下のURLにアクセスしてください。

*   **トップページ:** `http://127.0.0.1:8000/`
*   **在庫アイテム一覧:** `http://127.0.0.1:8000/inventory/list/`

## テストの実行方法

アプリケーションの機能が正しく動作するかを確認するために、以下のコマンドでテストを実行できます。

```bash
python manage.py test stock
```

## 管理者サイトへのアクセス

管理者サイトでは、データベースに保存されたアイテムデータを直接管理できます。

1.  開発サーバーを起動します。
    ```bash
    python manage.py runserver
    ```
2.  ブラウザで以下のURLにアクセスします。
    ```
    http://127.0.0.1:8000/admin/
    ```
3.  「スーパーユーザーの作成」で設定したユーザー名とパスワードでログインしてください。

## アプリケーション構造 (主要な部分)

*   `inventory_system/`: Djangoプロジェクトのルート設定、URLルーティング
*   `stock/`: 在庫管理アプリケーション
    *   `models.py`: データベースの `Item` モデル定義
    *   `forms.py`: `Item` モデルに基づくフォーム定義
    *   `views.py`: 各機能（一覧、詳細、新規、編集、削除、トップページ）のビジネスロジック
    *   `urls.py`: `stock` アプリケーション内のURLルーティング
    *   `templates/stock/`: HTMLテンプレートファイル (`item_list.html`, `item_detail.html` など)
    *   `migrations/`: データベーススキーマ変更履歴
    *   `tests.py`: アプリケーションのテストコード
    *   `fixtures/`: 初期データファイル (`initial_data.json`)
*   `manage.py`: Djangoプロジェクト管理コマンドの実行スクリプト
*   `.venv/`: Python仮想環境
*   `doc/`: ドキュメント類
    *   `document.md`: アプリケーション仕様書
    *   `develop.mdc`: 開発ルール、アプリケーション構造、コーディング規約

## 開発ルール・規約

開発に関する詳細なルール、アプリケーション構造、およびコーディング規約については、以下のドキュメントを参照してください。

*   **開発ドキュメント:** [`develop.mdc`](./.cursor/rules/develop.mdc)
*   **アプリケーション仕様書:** [`doc/document.md`](./doc/document.md)